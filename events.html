<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>EcoQuest | Events</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="header">
    <div class="container nav">
      <a class="brand" href="index.html"><div class="logo"></div><div class="title">EcoQuest</div></a>
      <div class="nav-links">
        <a class="btn ghost" href="leaderboard.html">Leaderboard</a>
        <a class="btn ghost" href="quiz.html">Quizzes</a>
        <a class="btn ghost" href="challenges.html">Challenges</a>
        <a class="btn ghost" href="game.html">Mini Game</a>
        <a class="btn ghost" href="certificate.html">Certificate</a>
        <div id="authButtons" class="nav-links"></div>
        <div id="navUser" class="userbar" style="display:none">
          <img alt="avatar" src=""/>
          <span></span>
          <button id="logoutBtn" class="btn">Logout</button>
        </div>
      </div>
    </div>
  </header>

  <main class="container" style="padding:24px 0;">
    <div class="section-title"><h2>Upcoming Events</h2><div class="helper">Join school eco drives</div></div>
    <div class="grid" id="events"></div>
  </main>

  <footer class="footer">EcoQuest © 2025</footer>

  <script src="app.js"></script>
  <script>
    const user = Eco.getAuthedUser();
    const items = [
      { id:'e1', title:'Campus Tree Plantation', date:'Next Sat', place:'Main Ground' },
      { id:'e2', title:'Plastic-Free Week Challenge', date:'Next Mon', place:'All Classrooms' },
      { id:'e3', title:'Neighborhood Clean-up', date:'Next Sun', place:'Community Park' }
    ];
    const root = document.getElementById('events');
    items.forEach(ev => {
      const card = document.createElement('div'); card.className='card';
      card.innerHTML = `<h3>${ev.title}</h3><p class='helper'>${ev.date} • ${ev.place}</p>`;
      const btn = document.createElement('button'); btn.className='btn'; btn.textContent='Join';
      btn.onclick = () => { if (!user) { location.href='login.html?redirect=events.html'; return; } alert('You have joined: '+ev.title); };
      card.appendChild(btn);
      root.appendChild(card);
    });
  </script>
</body>
</html>
